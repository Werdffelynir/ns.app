# Спецификация

Выложеная информация является важной частю для работы с архитектурой библиотеки.
Соблюдения правил, структур, архитектурыб анотоций даст приемущества:

- быстро раварачивать приложения
- ефективно использовать зависимостей частей приложения (модулей)
- использувать модули с других проектов этого приложения
- динамически работать с данными
- контролировать процесы выполнения
- упорядочить и структурировать различные задачи выполнения
- расширять приложения
- находить и исправялть баги


## Терминология

__NS__ (Пространство имени) - Пространства имен является всязующим звином между частями программы, они присваеваются динамически и дают доступ к объектам которые были для них определенны.
__app__ (Приложения) - Проект, все файлы разрабатываемой программы.
__extension__ или __module__(Расширения) - отдельный скрипт имеющий низкий или высокий уровень зависимости от других расширений. (Обратите внимание, не следует путать данный термин с расширением в пространстве имени `Module`, что вы встретите в примерах)
__УЗ__ (Уровень зависимости) - Указывает уровень зависимости частей программы от 0 и выше


## Структура и связи

JavaScript сам по себе дает очень гибкий инструмент для работы, это и есть основной недостаток, который приводит к запутаному не сруктурированому коду. JavaScript нужна структурность, это и пытается дать библиотека и даже от части ООП подход.



Базовая сруктура приложения может выглядить следующим образом:

```
app
├───── ─ ─ ─ ─ ─ > ─ > ─ ─ ns                      (1) ядро (УЗ:0)
|                          └── ns.application.js   
|
├───── ─ ─ ─ ─ ─ > ─ > ─ ─ library                 (2) библиотеки (УЗ:0)
|                          ├── lib.js
├── css                    ├── ...
│   ├── desktop.css        └── ...
│   ├── main.css
│   └── mobile.css
|
├── js.app                 (3) приложения (УЗ:2 ns, library)
│   ├── action                (4) модули action (УЗ:1 static)
│   │   ├── actions.js
│   │   ├── ...
│   │   └── ...
│   ├── controller            (5) модули controller (УЗ:2 static, actions)
│   │   ├── controllers.js
│   │   ├── ...
│   │   └── ...
│   ├── static                (6) модули static
│   │   ├── statics.js
│   │   ├── ...
│   │   └── ...
│   ├── templates
│   │   ├── content.html
│   │   ├── ...
│   │   └── ...
│   └── init.js
│   
├── js
│   ├── ...
│   └── ...
|
└──index.php
```

Приложение представляет собой конструктор - модульной структуры в древовидной форме, фактически вся программа состоит с расширений. 

Расширения раздиляются по типам или уровнями зависимости друг от друга и от дополнительных библиотек которые используют, из-за этого нужно подгружать скрипты расширений в определенной последовательности - не зависимые части должны подгружатся первыми.

Если брать с примера выше структуру приложения, расширения можно структуировать по уровнях зависимотей так:

1 __ns__ - погружается первым, екземпляр объекта NamespaceApplication является стержнем программы. Именно екземпляр NamespaceApplication подключает все зависимости, и создает пространства имен для модулей-расширений. Все части приложения кроме __library__ зависят от экземпляра __ns__.

2 __library__ - так же не является зависимым, это дополнительные инструменты скрипты/классы для всего приложения

3 __js.app__ - Зависит от __ns__, __library__

4 __action__ - Зависит от __ns__, __library__, __static__

5 __controller__ - Зависит от __ns__, __library__, __static__, __action__

6 __static__ - Зависит от __ns__, __library__


